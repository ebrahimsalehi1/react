{"ast":null,"code":"import _slicedToArray from \"/home/alireza/Documents/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/alireza/Documents/react/src/Components/IrisaComponents/CompositeTree.js\";\nimport React, { useState, useEffect } from 'react';\nimport SortableTree from 'react-sortable-tree';\nimport 'react-sortable-tree/style.css'; // This only needs to be imported once in your app\n\nimport { Checkbox, Button, Dialog, DialogTitle, TextField, Slide, AppBar, Toolbar, IconButton } from '@material-ui/core';\nimport { Close } from '@material-ui/icons/Close';\nimport { withStyles } from '@material-ui/core/styles'; // const Transition = React.forwardRef(function Transition(props, ref) {\n//     return <Slide direction=\"up\" ref={ref} {...props} />;\n//   });\n\nconst styles = {\n  appBar: {\n    position: 'relative'\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  }\n};\n\nfunction CompositeTree(props) {\n  const url = props.url,\n        classes = props.classes;\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        chkClick = _useState4[0],\n        setChkClick = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        open = _useState6[0],\n        setOpen = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        compositeName = _useState8[0],\n        setCompositeName = _useState8[1];\n\n  useEffect(() => {\n    console.log('composite tree is rendering-useEffect');\n    let isLoaded = false;\n\n    async function callWebserviceGetPersonInfo() {\n      if (!isLoaded) {\n        const recievedData = [{\n          \"applicationType\": \"ACM\",\n          \"persianName\": \"سیستم اقدامات-فرآیند شناسایی و تحلیل اقدام\",\n          \"compositeName\": \"ACM_ActionAnalysis_PRJ\"\n        }, {\n          \"applicationType\": \"ACM\",\n          \"persianName\": \"سیستم اقدامات-فرایند ارزیابی\",\n          \"compositeName\": \"ACM_Assessment_PRJ\"\n        }, {\n          \"applicationType\": \"ACM\",\n          \"persianName\": \"فرآیند شناسایی تغییرات\",\n          \"compositeName\": \"ACM_ChangeIdentify_PRJ\"\n        }, {\n          \"applicationType\": \"ACM\",\n          \"persianName\": \"فرآیند مدیریت تغییرات پروژه های بهبود\",\n          \"compositeName\": \"ACM_ChangePrjPlan_PRJ\"\n        }, {\n          \"applicationType\": \"ACM\",\n          \"persianName\": \"فرآیند پایش و اجرای پروژه\",\n          \"compositeName\": \"ACM_Monitoring_PRJ\"\n        }, {\n          \"applicationType\": \"ACM\",\n          \"persianName\": \"فرآیند برنامه ریزی و تکمیل اطلاعات پروژه\",\n          \"compositeName\": \"ACM_Planing_PRJ\"\n        }, {\n          \"applicationType\": \"ACM\",\n          \"persianName\": \"سیستم اقدامات-فرایند پایش و اجرای QF\",\n          \"compositeName\": \"ACM_QF_Monitoring_PRJ\"\n        }, {\n          \"applicationType\": \"ACM\",\n          \"persianName\": \"سیستم اقدامات-فرآیند پاداش پروژه\",\n          \"compositeName\": \"ACM_Reward_PRJ\"\n        }, {\n          \"applicationType\": \"ACM\",\n          \"persianName\": \"فرآیند صورتجلسه\",\n          \"compositeName\": \"ACM_SessionFyi_PRJ\"\n        }, {\n          \"applicationType\": \"ACM\",\n          \"persianName\": \"سیستم اقدامات-فرآیند تائید پروژه ویژه\",\n          \"compositeName\": \"ACM_SpecialPrjApproval_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"Acm_Process\",\n          \"compositeName\": \"BpmProject1\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"درخواست تحویل دارو\",\n          \"compositeName\": \"HSE_DrugRequest_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"فرایند اورژانس\",\n          \"compositeName\": \"HSE_Emergency_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"فرایند کميسيون پزشکي\",\n          \"compositeName\": \"HSE_MedicalCommission_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"HSE_ReferralExam_PROC\",\n          \"compositeName\": \"HSE_ReferralExam_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"اندازه گيری جنبه هاي زيست محيطي(حادثه ای)\",\n          \"compositeName\": \"HSE_RequestEnvironmentalAspects_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"درخواست اندازه گیری عوامل زیان آور شغلی\",\n          \"compositeName\": \"HSE_RequestMeasuringHarmfulFactors_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"فرایند مدیریت ریسک\",\n          \"compositeName\": \"HSE_Risk_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"اندازه گیری عوامل زیان آور شغلی\",\n          \"compositeName\": \"HSE_MeasuringHarmfulFactor_PRJ\"\n        }, {\n          \"applicationType\": \"LAB\",\n          \"persianName\": \"LAB_DonNoneRoutinsSamples_PROC\",\n          \"compositeName\": \"LAB_NonRoutineSamples_PRJ\"\n        }, {\n          \"applicationType\": \"LAB\",\n          \"persianName\": \"فرآیند آزمون نمونه روانکارها\",\n          \"compositeName\": \"LAB_Lubricant_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"ارزیابی توسط چک لیست ها\",\n          \"compositeName\": \"HSE_CheckList_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"ارزیابی جنبه های زیست محیطی(عادی و غیر عادی،حادثه ای)\",\n          \"compositeName\": \"hse_AssessmentEnvironmentalAspects_PRJ\"\n        }, {\n          \"applicationType\": \"HSE\",\n          \"persianName\": \"فرایند سم پاشی\",\n          \"compositeName\": \"HSE_Spraying_PRJ\"\n        }]; //const recievedData = [{\"applicationType\":\"ACM\",\"persianName\":\"سیستم اقدامات-فرآیند شناسایی و تحلیل اقدام\",\"compositeName\":\"ACM_ActionAnalysis_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"Acm_Process\",\"compositeName\":\"BpmProject1\"},{\"applicationType\":\"HSE\",\"persianName\":\"درخواست تحویل دارو\",\"compositeName\":\"HSE_DrugRequest_PRJ\"}];    \n\n        const appTypes = new Set();\n        recievedData.forEach(item => {\n          appTypes.add(item.applicationType);\n        });\n        let jSonString = [];\n        appTypes.forEach(item => {\n          const filteredData = recievedData.filter(itemSub => itemSub.applicationType === item);\n          jSonString = [...jSonString, {\n            title: item,\n            children: filteredData.map(obj => {\n              return {\n                title: obj.persianName,\n                children: []\n              };\n            })\n          }];\n        });\n        console.log(\"jSonString\", JSON.stringify(jSonString));\n        setData(jSonString);\n        isLoaded = true;\n      }\n    }\n\n    callWebserviceGetPersonInfo();\n  }, []);\n\n  function handleClick(event) {\n    setOpen(true);\n  } //console.log('composite tree is rendering')\n\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    value: compositeName,\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), open && React.createElement(Dialog, {\n    open: true,\n    title: \"title 1\",\n    fullWidth: true,\n    maxWidth: \"md\" //TransitionComponent={Transition}\n    ,\n    onClose: () => {\n      setOpen(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    edge: \"start\",\n    color: \"inherit\",\n    onClick: handleClose,\n    \"aria-label\": \"close\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(CloseIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })), React.createElement(Typography, {\n    variant: \"h6\",\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Sound\"), React.createElement(Button, {\n    autoFocus: true,\n    color: \"inherit\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"save\"))), React.createElement(\"div\", {\n    style: {\n      height: 400\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, window.innerHeight, React.createElement(SortableTree, {\n    treeData: data,\n    onChange: treeData => setData(treeData),\n    canDrag: false,\n    generateNodeProps: ({\n      node,\n      path\n    }) => ({\n      title: React.createElement(React.Fragment, null, React.createElement(Checkbox, {\n        value: node.title,\n        checked: chkClick.includes(node.title),\n        onChange: e => {\n          //console.log(e.target.value)\n          setChkClick([...chkClick, e.target.value]);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, node.title))\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }))));\n}\n\nexport default withStyles()(CompositeTree);","map":{"version":3,"sources":["/home/alireza/Documents/react/src/Components/IrisaComponents/CompositeTree.js"],"names":["React","useState","useEffect","SortableTree","Checkbox","Button","Dialog","DialogTitle","TextField","Slide","AppBar","Toolbar","IconButton","Close","withStyles","styles","appBar","position","title","marginLeft","theme","spacing","flex","CompositeTree","props","url","classes","data","setData","chkClick","setChkClick","open","setOpen","compositeName","setCompositeName","console","log","isLoaded","callWebserviceGetPersonInfo","recievedData","appTypes","Set","forEach","item","add","applicationType","jSonString","filteredData","filter","itemSub","children","map","obj","persianName","JSON","stringify","handleClick","event","handleClose","height","window","innerHeight","treeData","node","path","includes","e","target","value"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport SortableTree from 'react-sortable-tree';\nimport 'react-sortable-tree/style.css'; // This only needs to be imported once in your app\nimport {Checkbox,Button,Dialog,DialogTitle,TextField,Slide,AppBar,Toolbar,IconButton} from '@material-ui/core';\nimport {Close} from '@material-ui/icons/Close'\nimport { withStyles } from '@material-ui/core/styles';\n\n// const Transition = React.forwardRef(function Transition(props, ref) {\n//     return <Slide direction=\"up\" ref={ref} {...props} />;\n//   });\n\nconst styles = {\n    appBar: {\n        position: 'relative',\n      },\n      title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n      },\n}\n\nfunction CompositeTree(props){\n    const {url,classes} = props;\n    const [data,setData] = useState([]);\n    const [chkClick,setChkClick] = useState([]);\n    const [open,setOpen] = useState(false);\n    const [compositeName,setCompositeName] = useState('');\n\n    useEffect(()=>{\n        console.log('composite tree is rendering-useEffect')\n\n        let isLoaded = false;\n        async function callWebserviceGetPersonInfo(){\n            if(!isLoaded){\n                const recievedData = [{\"applicationType\":\"ACM\",\"persianName\":\"سیستم اقدامات-فرآیند شناسایی و تحلیل اقدام\",\"compositeName\":\"ACM_ActionAnalysis_PRJ\"},{\"applicationType\":\"ACM\",\"persianName\":\"سیستم اقدامات-فرایند ارزیابی\",\"compositeName\":\"ACM_Assessment_PRJ\"},{\"applicationType\":\"ACM\",\"persianName\":\"فرآیند شناسایی تغییرات\",\"compositeName\":\"ACM_ChangeIdentify_PRJ\"},{\"applicationType\":\"ACM\",\"persianName\":\"فرآیند مدیریت تغییرات پروژه های بهبود\",\"compositeName\":\"ACM_ChangePrjPlan_PRJ\"},{\"applicationType\":\"ACM\",\"persianName\":\"فرآیند پایش و اجرای پروژه\",\"compositeName\":\"ACM_Monitoring_PRJ\"},{\"applicationType\":\"ACM\",\"persianName\":\"فرآیند برنامه ریزی و تکمیل اطلاعات پروژه\",\"compositeName\":\"ACM_Planing_PRJ\"},{\"applicationType\":\"ACM\",\"persianName\":\"سیستم اقدامات-فرایند پایش و اجرای QF\",\"compositeName\":\"ACM_QF_Monitoring_PRJ\"},{\"applicationType\":\"ACM\",\"persianName\":\"سیستم اقدامات-فرآیند پاداش پروژه\",\"compositeName\":\"ACM_Reward_PRJ\"},{\"applicationType\":\"ACM\",\"persianName\":\"فرآیند صورتجلسه\",\"compositeName\":\"ACM_SessionFyi_PRJ\"},{\"applicationType\":\"ACM\",\"persianName\":\"سیستم اقدامات-فرآیند تائید پروژه ویژه\",\"compositeName\":\"ACM_SpecialPrjApproval_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"Acm_Process\",\"compositeName\":\"BpmProject1\"},{\"applicationType\":\"HSE\",\"persianName\":\"درخواست تحویل دارو\",\"compositeName\":\"HSE_DrugRequest_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"فرایند اورژانس\",\"compositeName\":\"HSE_Emergency_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"فرایند کميسيون پزشکي\",\"compositeName\":\"HSE_MedicalCommission_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"HSE_ReferralExam_PROC\",\"compositeName\":\"HSE_ReferralExam_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"اندازه گيری جنبه هاي زيست محيطي(حادثه ای)\",\"compositeName\":\"HSE_RequestEnvironmentalAspects_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"درخواست اندازه گیری عوامل زیان آور شغلی\",\"compositeName\":\"HSE_RequestMeasuringHarmfulFactors_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"فرایند مدیریت ریسک\",\"compositeName\":\"HSE_Risk_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"اندازه گیری عوامل زیان آور شغلی\",\"compositeName\":\"HSE_MeasuringHarmfulFactor_PRJ\"},{\"applicationType\":\"LAB\",\"persianName\":\"LAB_DonNoneRoutinsSamples_PROC\",\"compositeName\":\"LAB_NonRoutineSamples_PRJ\"},{\"applicationType\":\"LAB\",\"persianName\":\"فرآیند آزمون نمونه روانکارها\",\"compositeName\":\"LAB_Lubricant_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"ارزیابی توسط چک لیست ها\",\"compositeName\":\"HSE_CheckList_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"ارزیابی جنبه های زیست محیطی(عادی و غیر عادی،حادثه ای)\",\"compositeName\":\"hse_AssessmentEnvironmentalAspects_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"فرایند سم پاشی\",\"compositeName\":\"HSE_Spraying_PRJ\"}];    \n                //const recievedData = [{\"applicationType\":\"ACM\",\"persianName\":\"سیستم اقدامات-فرآیند شناسایی و تحلیل اقدام\",\"compositeName\":\"ACM_ActionAnalysis_PRJ\"},{\"applicationType\":\"HSE\",\"persianName\":\"Acm_Process\",\"compositeName\":\"BpmProject1\"},{\"applicationType\":\"HSE\",\"persianName\":\"درخواست تحویل دارو\",\"compositeName\":\"HSE_DrugRequest_PRJ\"}];    \n\n                const appTypes = new Set()\n             \n                recievedData.forEach(item=>{\n                    appTypes.add(item.applicationType)\n                })\n                \n                let jSonString = [];\n                appTypes.forEach(item=>{\n                    const filteredData = recievedData.filter(itemSub=>itemSub.applicationType===item)\n                    jSonString = [...jSonString,{title:item,children:filteredData.map(obj=>{return {title:obj.persianName,children:[]}})}]\n                })\n\n                console.log(\"jSonString\",JSON.stringify(jSonString))\n\n                setData(jSonString);\n                \n                isLoaded = true;\n            }\n        }\n\n        callWebserviceGetPersonInfo();\n    },[])\n\n    function handleClick(event){\n        setOpen(true);\n    }\n\n    //console.log('composite tree is rendering')\n\n    return (\n        <div>\n        <TextField value={compositeName} onClick={handleClick}/>\n        {open && \n        <Dialog open={true}\n        title={\"title 1\"}\n        fullWidth={true}\n        maxWidth={\"md\"}\n        //TransitionComponent={Transition}\n        onClose={()=>{setOpen(false)}}\n        >   \n       <AppBar > \n          <Toolbar>\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n              <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              Sound\n            </Typography>\n            <Button autoFocus color=\"inherit\" onClick={handleClose}>\n              save\n            </Button>\n          </Toolbar>\n        </AppBar> \n        <div style={{ height: 400 }}>\n            {window.innerHeight}\n\n        <SortableTree\n            treeData={data}\n            onChange={treeData => setData( treeData )}\n            canDrag={false}\n            generateNodeProps={({ node, path }) => ({\n                title: (\n                    <><Checkbox\n                        value={node.title}\n                        checked={chkClick.includes(node.title)}\n                        onChange={(e)=>{\n                            //console.log(e.target.value)\n                            setChkClick([...chkClick,e.target.value])\n                        }}\n                    /><label>{node.title}</label></>\n                ),\n            })}\n        />\n       \n        </div>\n        </Dialog>\n        }\n        </div>\n        )\n}\n\nexport default withStyles()(CompositeTree);"]},"metadata":{},"sourceType":"module"}